function RemoteJS(g,b){function d(a){console.log("RemoteJS: "+a)}b||(b={});b.server||(b.server="http://remotejs-mariandev.rhcloud.com/");b.remote_connected||(b.remote_connected=function(a){d("Remote connected - "+JSON.stringify(a))});b.remote_disconnected||(b.remote_disconnected=function(a){d("Remote disconnected - "+JSON.stringify(a))});b.app_disconnected||(b.app_disconnected=function(a){d("App disconnected - "+JSON.stringify(a))});b.receive_data||(b.receive_data=function(a){d("Data received - "+JSON.stringify(a))});b.on_error||(b.on_error=function(a){d("Error - "+JSON.stringify(a))});b.app_id||(b.app_id=!1);this.type=g;this.rid=null;var f=this,c=io.connect(b.server);c.on("remote_connected",function(a){b.remote_connected(a)});c.on("remote_disconnected",function(a){b.remote_disconnected(a)});c.on("app_disconnected",function(a){b.app_disconnected(a)});c.on("receive_data",function(a){a.to==f.type&&b.receive_data(a.receive)});c.on("error",function(a){b.on_error(a)});this.connect=function(a,e){"remote"==this.type&&b.app_id&&(a=b.app_id+"_"+a);"app"==this.type&&b.app_id?(e=a,a=b.app_id):"app"!=this.type||b.app_id||d("You need to set an app id.");c.emit("connect",{type:this.type,id:a});c.on("connection_successful",function(a){f.rid=a.rid;e&&"function"==typeof e&&e(a.rid);console.log(f.rid)})};this.send=function(a){c.emit("send_data",{send:a,rid:this.rid,to:"app"==this.type?"remote":"app"})}};